import { I as ImageComponent } from './NuxtImg-jZmhL5iR.mjs';
import __nuxt_component_1 from './ContentRenderer-huB8xbmA.mjs';
import { _ as __nuxt_component_2 } from './BlogCard-BlCI8DlD.mjs';
import { _ as __nuxt_component_0 } from './nuxt-link-Dpdh9Bi7.mjs';
import { withAsyncContext, mergeProps, unref, withCtx, createVNode, toDisplayString, useSSRContext } from 'file:///Users/apple/Sites/Saloo/node_modules/vue/index.mjs';
import { ssrRenderAttrs, ssrInterpolate, ssrRenderComponent, ssrRenderList } from 'file:///Users/apple/Sites/Saloo/node_modules/vue/server-renderer/index.mjs';
import { b as useRoute, c as createError, a as useSeoMeta } from './server.mjs';
import { q as queryContent } from './query-zkQazQg0.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/defu/dist/defu.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/ufo/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/h3/dist/index.mjs';
import './ssr-CoYygc1k.mjs';
import './ContentRendererMarkdown-Cbu5XCmU.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/destr/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/scule/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/property-information/index.js';
import './node-DPfXEbjB.mjs';
import './preview-D8_QMNgR.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/nuxt/node_modules/ohash/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/klona/dist/index.mjs';
import './_plugin-vue_export-helper-1tPrXgE0.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/ofetch/dist/node.mjs';
import '../nitro/nitro.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/unified/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/remark-parse/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/remark-rehype/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/remark-mdc/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/remark-gfm/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/rehype-external-links/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/rehype-sort-attribute-values/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/rehype-sort-attributes/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/rehype-raw/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/detab/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/micromark-util-sanitize-uri/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/hast-util-to-string/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/github-slugger/index.js';
import 'file:///Users/apple/Sites/Saloo/node_modules/hookable/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/node-mock-http/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/unstorage/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/unstorage/drivers/fs.mjs';
import 'node:crypto';
import 'file:///Users/apple/Sites/Saloo/node_modules/unstorage/drivers/fs-lite.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/unstorage/drivers/lru-cache.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/nitropack/node_modules/ohash/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/unctx/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/radix3/dist/index.mjs';
import 'node:fs';
import 'node:url';
import 'file:///Users/apple/Sites/Saloo/node_modules/pathe/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/ipx/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/@nuxt/image/node_modules/pathe/dist/index.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/vue-router/vue-router.node.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/nuxt/node_modules/unhead/dist/utils.mjs';
import 'file:///Users/apple/Sites/Saloo/node_modules/ohash/dist/index.mjs';

const _sfc_main = {
  __name: "[...slug]",
  __ssrInlineRender: true,
  async setup(__props) {
    let __temp, __restore;
    const route = useRoute();
    const data = ([__temp, __restore] = withAsyncContext(() => queryContent(route.path).findOne().catch(() => null)), __temp = await __temp, __restore(), __temp);
    if (!data) {
      throw createError({
        statusCode: 404,
        statusMessage: "Blog post not found"
      });
    }
    const relatedPosts = ([__temp, __restore] = withAsyncContext(() => queryContent("/blog").where({ category: data.category, _path: { $ne: route.path } }).limit(2).find().catch(() => [])), __temp = await __temp, __restore(), __temp);
    const [prev, next] = ([__temp, __restore] = withAsyncContext(() => queryContent("/blog").only(["_path", "title"]).sort({ date: -1 }).findSurround(route.path).catch(() => [null, null])), __temp = await __temp, __restore(), __temp);
    useSeoMeta({
      title: data.title,
      description: data.description,
      ogTitle: data.title,
      ogDescription: data.description,
      ogImage: data.image,
      ogType: "article",
      articleAuthor: data.author,
      articlePublishedTime: data.date,
      twitterCard: "summary_large_image"
    });
    const formatDate = (dateString) => {
      const date = new Date(dateString);
      return date.toLocaleDateString("en-US", {
        year: "numeric",
        month: "long",
        day: "numeric"
      });
    };
    return (_ctx, _push, _parent, _attrs) => {
      const _component_NuxtImg = ImageComponent;
      const _component_ContentRenderer = __nuxt_component_1;
      const _component_BlogCard = __nuxt_component_2;
      const _component_NuxtLink = __nuxt_component_0;
      _push(`<div${ssrRenderAttrs(mergeProps({ class: "pt-16" }, _attrs))}><article class="section-padding"><div class="container-max max-w-4xl"><header class="mb-12"><div class="text-center mb-8"><div class="flex items-center justify-center space-x-4 text-sm text-gray-500 mb-4"><span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">${ssrInterpolate(unref(data).category)}</span><span class="flex items-center"><iconify-icon icon="lucide:calendar" class="mr-1"></iconify-icon> ${ssrInterpolate(formatDate(unref(data).date))}</span><span class="flex items-center"><iconify-icon icon="lucide:user" class="mr-1"></iconify-icon> ${ssrInterpolate(unref(data).author)}</span></div><h1 class="text-4xl md:text-5xl font-bold mb-4">${ssrInterpolate(unref(data).title)}</h1><p class="text-xl text-gray-600 max-w-3xl mx-auto">${ssrInterpolate(unref(data).description)}</p></div>`);
      if (unref(data).image) {
        _push(`<div class="relative rounded-lg overflow-hidden shadow-lg mb-8">`);
        _push(ssrRenderComponent(_component_NuxtImg, {
          src: unref(data).image,
          alt: unref(data).title,
          class: "w-full h-96 object-cover"
        }, null, _parent));
        _push(`<div class="absolute inset-0 bg-black bg-opacity-10"></div></div>`);
      } else {
        _push(`<!---->`);
      }
      if (unref(data).tags && unref(data).tags.length > 0) {
        _push(`<div class="flex flex-wrap justify-center gap-2 mb-8"><!--[-->`);
        ssrRenderList(unref(data).tags, (tag) => {
          _push(`<span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm"> #${ssrInterpolate(tag)}</span>`);
        });
        _push(`<!--]--></div>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</header>`);
      if (unref(data)) {
        _push(`<div class="prose max-w-none">`);
        _push(ssrRenderComponent(_component_ContentRenderer, { value: unref(data) }, null, _parent));
        _push(`</div>`);
      } else {
        _push(`<!---->`);
      }
      _push(`<footer class="mt-12 pt-8 border-t border-gray-200"><div class="flex items-center justify-between"><div class="flex items-center space-x-4"><div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"><iconify-icon icon="lucide:user" class="text-blue-600 text-xl"></iconify-icon></div><div><div class="font-semibold">${ssrInterpolate(unref(data).author)}</div><div class="text-gray-600 text-sm">World Record Holder &amp; Adventurer</div></div></div><div class="flex space-x-4"><button class="p-2 text-gray-400 hover:text-blue-600 transition-colors"><iconify-icon icon="lucide:facebook" class="text-xl"></iconify-icon></button><button class="p-2 text-gray-400 hover:text-blue-600 transition-colors"><iconify-icon icon="lucide:twitter" class="text-xl"></iconify-icon></button><button class="p-2 text-gray-400 hover:text-blue-600 transition-colors"><iconify-icon icon="lucide:share-2" class="text-xl"></iconify-icon></button></div></div></footer>`);
      if (unref(relatedPosts).length > 0) {
        _push(`<section class="mt-16"><h2 class="text-2xl font-bold mb-8">Related Stories</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><!--[-->`);
        ssrRenderList(unref(relatedPosts), (post) => {
          _push(ssrRenderComponent(_component_BlogCard, {
            key: post._path,
            post
          }, null, _parent));
        });
        _push(`<!--]--></div></section>`);
      } else {
        _push(`<!---->`);
      }
      _push(`<nav class="mt-12 flex justify-between">`);
      if (unref(prev)) {
        _push(ssrRenderComponent(_component_NuxtLink, {
          to: unref(prev)._path,
          class: "flex items-center text-blue-600 hover:text-blue-700"
        }, {
          default: withCtx((_, _push2, _parent2, _scopeId) => {
            if (_push2) {
              _push2(`<iconify-icon icon="lucide:arrow-left" class="mr-2"${_scopeId}></iconify-icon><div${_scopeId}><div class="text-sm text-gray-500"${_scopeId}>Previous</div><div class="font-medium"${_scopeId}>${ssrInterpolate(unref(prev).title)}</div></div>`);
            } else {
              return [
                createVNode("iconify-icon", {
                  icon: "lucide:arrow-left",
                  class: "mr-2"
                }),
                createVNode("div", null, [
                  createVNode("div", { class: "text-sm text-gray-500" }, "Previous"),
                  createVNode("div", { class: "font-medium" }, toDisplayString(unref(prev).title), 1)
                ])
              ];
            }
          }),
          _: 1
        }, _parent));
      } else {
        _push(`<!---->`);
      }
      if (unref(next)) {
        _push(ssrRenderComponent(_component_NuxtLink, {
          to: unref(next)._path,
          class: "flex items-center text-blue-600 hover:text-blue-700 text-right"
        }, {
          default: withCtx((_, _push2, _parent2, _scopeId) => {
            if (_push2) {
              _push2(`<div${_scopeId}><div class="text-sm text-gray-500"${_scopeId}>Next</div><div class="font-medium"${_scopeId}>${ssrInterpolate(unref(next).title)}</div></div><iconify-icon icon="lucide:arrow-right" class="ml-2"${_scopeId}></iconify-icon>`);
            } else {
              return [
                createVNode("div", null, [
                  createVNode("div", { class: "text-sm text-gray-500" }, "Next"),
                  createVNode("div", { class: "font-medium" }, toDisplayString(unref(next).title), 1)
                ]),
                createVNode("iconify-icon", {
                  icon: "lucide:arrow-right",
                  class: "ml-2"
                })
              ];
            }
          }),
          _: 1
        }, _parent));
      } else {
        _push(`<!---->`);
      }
      _push(`</nav></div></article></div>`);
    };
  }
};
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("pages/blog/[...slug].vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};

export { _sfc_main as default };
//# sourceMappingURL=_...slug_-D0fYvqzJ.mjs.map
